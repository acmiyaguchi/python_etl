
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mozetl.engagement.retention package &#8212; python_mozetl 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="mozetl-engagement-retention-package">
<h1>mozetl.engagement.retention package<a class="headerlink" href="#mozetl-engagement-retention-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozetl.engagement.retention.job">
<span id="mozetl-engagement-retention-job-module"></span><h2>mozetl.engagement.retention.job module<a class="headerlink" href="#module-mozetl.engagement.retention.job" title="Permalink to this headline">¶</a></h2>
<p># 1 Day Retention</p>
<p>This job generates the intermediate dataset used to generate the 1 day retention
dataset, as outlined in [this proposal][1]. The primary use-case to provide a
descriptive view of engagement over sub-populations of users over various
attributes (e.g. channel, version, acquisition attribution) and time. This
dataset is spun off of the churn dataset, retaining many of the same dimensions.
This job takes advantage of the new-profile ping that was [added to the
<cite>churn_v3</cite> job][2]. This data source will become irrelevant if the shutdown
pingsender is enabled for first sessions.</p>
<p>This job generally runs with a [2 day latency to account for 95% of pings][3] to
arrive along the data pipeline using the shutdown ping-sender. This means the
data is generally only valid for Firefox 55+. If you would like to perform
engagement analysis on pre-55 data, please refer to <cite>mozetl.engagement.churn</cite>
for data latency and data sources that would be advantageous.</p>
<p>This intermediate dataset is aggregated by a job in
<cite>mozilla/telemetry-batch-view</cite>, which takes advantage of the HyperLogLog
data structure to count over sets of clients. In addition, a small set of
engagement metrics have been included for describing cohorts in moore detail.</p>
<p>See the [<cite>Firefox Telemetry Retention: Dataset Example Usage</cite> Dashboard][4] for
details on using this dataset.</p>
<p>[1]: <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1381840">https://bugzilla.mozilla.org/show_bug.cgi?id=1381840</a>
[2]: <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1389231">https://bugzilla.mozilla.org/show_bug.cgi?id=1389231</a>
[3]: <a class="reference external" href="https://sql.telemetry.mozilla.org/dashboard/telemetry-health">https://sql.telemetry.mozilla.org/dashboard/telemetry-health</a>
[4]: <a class="reference external" href="https://sql.telemetry.mozilla.org/dashboard/firefox-telemetry-retention-dataset-example-usage">https://sql.telemetry.mozilla.org/dashboard/firefox-telemetry-retention-dataset-example-usage</a></p>
<dl class="function">
<dt id="mozetl.engagement.retention.job.save">
<code class="descclassname">mozetl.engagement.retention.job.</code><code class="descname">save</code><span class="sig-paren">(</span><em>cleaned</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/retention/job.html#save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.retention.job.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mozetl.engagement.retention.job.transform">
<code class="descclassname">mozetl.engagement.retention.job.</code><code class="descname">transform</code><span class="sig-paren">(</span><em>main_summary</em>, <em>start_ds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/retention/job.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.retention.job.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a subset of <cite>main_summary</cite> to be used in aggregates.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.retention.job.valid_pcd">
<code class="descclassname">mozetl.engagement.retention.job.</code><code class="descname">valid_pcd</code><span class="sig-paren">(</span><em>pcd</em>, <em>client_date</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/retention/job.html#valid_pcd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.retention.job.valid_pcd" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the profile creation date column is valid given the date
reported by the client.</p>
</dd></dl>

</div>
<div class="section" id="module-mozetl.engagement.retention.schema">
<span id="mozetl-engagement-retention-schema-module"></span><h2>mozetl.engagement.retention.schema module<a class="headerlink" href="#module-mozetl.engagement.retention.schema" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozetl.engagement.retention">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozetl.engagement.retention" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">python_mozetl</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Firefox Telemetry Python ETL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#benefits">Benefits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#tests">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#scheduling">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#early-stage-etl-jobs">Early Stage ETL Jobs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Ryan Harter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/source/mozetl.engagement.retention.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>