
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mozetl.engagement.churn package &#8212; python_mozetl 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="mozetl-engagement-churn-package">
<h1>mozetl.engagement.churn package<a class="headerlink" href="#mozetl-engagement-churn-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozetl.engagement.churn.job">
<span id="mozetl-engagement-churn-job-module"></span><h2>mozetl.engagement.churn.job module<a class="headerlink" href="#module-mozetl.engagement.churn.job" title="Permalink to this headline">¶</a></h2>
<p>Firefox Desktop Churn and Retention Cohorts</p>
<p>Tracked in Bug 1226379 [1]. The underlying dataset is generated via
the telemetry-batch-view [2] code, and is generated once a day. The
aggregated churn data is updated weekly.</p>
<p>Due to the client reporting latency, we need to wait 10 days for the
data to stabilize. If the date is passed into report through the
environment, it is assumed that the date is at least a week greater
than the report start date.  For example, if today is <cite>20170323</cite>,
airflow will set the environment date to be ‘20170316’. The date is
then set back 10 days to <cite>20170306</cite>, and pinned to the nearest
Sunday. This example date happens to be a Monday, so the update will
be set to <cite>20170305</cite>.</p>
<p>Code is based on the previous FHR analysis code [3].  Details and
definitions are in Bug 1198537 [4].</p>
<p>The production location of this dataset can be found in the following
location: <cite>s3://telemetry-parquet/churn/v2</cite>.</p>
<p>[1] <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226379">https://bugzilla.mozilla.org/show_bug.cgi?id=1226379</a>
[2] <a class="reference external" href="https://git.io/vSBAt">https://git.io/vSBAt</a>
[3] <a class="reference external" href="https://github.com/mozilla/churn-analysis">https://github.com/mozilla/churn-analysis</a>
[4] <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1198537">https://bugzilla.mozilla.org/show_bug.cgi?id=1198537</a></p>
<dl class="function">
<dt id="mozetl.engagement.churn.job.clean_columns">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">clean_columns</code><span class="sig-paren">(</span><em>prepared_clients</em>, <em>effective_version</em>, <em>start_ds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#clean_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.clean_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean columns in preparation for aggregation.</p>
<p>This removes invalid values, tidies up dates, and limits the scope of
several dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prepared_clients</strong> – <cite>main_summary</cite> rows that conform to the
schema of <cite>prepare_client_rows(…)</cite></li>
<li><strong>effective_version</strong> – DataFrame mapping dates to the active Firefox
version that was distributed at that time</li>
<li><strong>start_ds</strong> – DateString to determine whether a row that is
being processed is active during the current
week</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">DataFrame with cleaned columns and rows</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.clean_new_profile">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">clean_new_profile</code><span class="sig-paren">(</span><em>new_profile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#clean_new_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.clean_new_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <cite>main_summary</cite> compatible dataset from the new profile ping.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_profile</strong> – dataframe conforming to the new profile ping</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">subset of <cite>main_summary</cite> used in churn</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.coalesce_new_profile_attribution">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">coalesce_new_profile_attribution</code><span class="sig-paren">(</span><em>main_summary</em>, <em>new_profile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#coalesce_new_profile_attribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.coalesce_new_profile_attribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bug 1416364 - Fill in missing attribution in main summary using
new-profile pings.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.extract">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">extract</code><span class="sig-paren">(</span><em>main_summary</em>, <em>new_profile</em>, <em>start_ds</em>, <em>period</em>, <em>slack</em>, <em>is_sampled</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from the main summary table taking into account the
retention period and submission latency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>main_summary</strong> – dataframe pointing to main_summary.v4</li>
<li><strong>new_profile</strong> – dataframe pointing to new_profile_ping_parquet</li>
<li><strong>start_ds</strong> – start date of the retention period</li>
<li><strong>period</strong> – length of the retention period</li>
<li><strong>slack</strong> – slack added to account for submission latency</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a dataframe containing the raw subset of data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.in_top_countries">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">in_top_countries</code><span class="sig-paren">(</span><em>country</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#in_top_countries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.in_top_countries" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize country to be within a top country list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>country</strong> – Column name for “country”</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set(TOP_COUNTRIES) | “ROW”</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.prepare_client_rows">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">prepare_client_rows</code><span class="sig-paren">(</span><em>main_summary</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#prepare_client_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.prepare_client_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Coalesce client pings into a DataFrame that contains one row for
each client.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.save">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">save</code><span class="sig-paren">(</span><em>dataframe</em>, <em>bucket</em>, <em>prefix</em>, <em>start_ds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.sync_usage">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">sync_usage</code><span class="sig-paren">(</span><em>desktop_count</em>, <em>mobile_count</em>, <em>sync_configured</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#sync_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.sync_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine sync usage of a client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>desktop_count</strong> – Column name for “sync_count_desktop”</li>
<li><strong>mobile_count</strong> – Column name for “sync_count_mobile”</li>
<li><strong>sync_configured</strong> – Column name for “sync_configured”</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">One of <cite>multiple</cite>, <cite>single</cite>, <cite>no</cite>, <cite>null</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.job.transform">
<code class="descclassname">mozetl.engagement.churn.job.</code><code class="descname">transform</code><span class="sig-paren">(</span><em>main_summary</em>, <em>effective_version</em>, <em>start_ds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/job.html#transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.job.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the churn data for this week. Note that it takes 10 days
from the end of this period for all the activity to arrive. This data
should be from Sunday through Saturday.</p>
<p>df: DataFrame of the dataset relevant to computing the churn
week_start: datestring of this time period</p>
</dd></dl>

</div>
<div class="section" id="module-mozetl.engagement.churn.release">
<span id="mozetl-engagement-churn-release-module"></span><h2>mozetl.engagement.churn.release module<a class="headerlink" href="#module-mozetl.engagement.churn.release" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mozetl.engagement.churn.release.compare_ver">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">compare_ver</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#compare_ver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.compare_ver" title="Permalink to this definition">¶</a></dt>
<dd><p>Logically compare two Firefox version strings. Split the string into
pieces, and compare each piece numerically.</p>
<p>Returns -1, 0, or 1 depending on whether a is less than, equal to, or
greater than b.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.release.create_date_to_version">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">create_date_to_version</code><span class="sig-paren">(</span><em>release_info</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#create_date_to_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.create_date_to_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a map of yyyy-mm-dd date to the effective Firefox version on the
release channel.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.release.create_effective_version_table">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">create_effective_version_table</code><span class="sig-paren">(</span><em>spark</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#create_effective_version_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.create_effective_version_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the effective version table.</p>
<p>This will download the Firefox release history and map the date to a
particular version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spark</strong> – A SparkSession context.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">DataFrame containing the effective version information</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.release.fetch_json">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">fetch_json</code><span class="sig-paren">(</span><em>uri</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#fetch_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.fetch_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an HTTP GET on the given uri, return the results as json. If
there is an error fetching the data, raise it.</p>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.release.get_release_info">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">get_release_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#get_release_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.get_release_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch information about Firefox release dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an object containing two sections:
‘major’ - contains major releases (i.e. 41.0)
‘minor’ - contains stability releases (i.e. 41.0.1)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.release.with_effective_version">
<code class="descclassname">mozetl.engagement.churn.release.</code><code class="descname">with_effective_version</code><span class="sig-paren">(</span><em>dataframe</em>, <em>effective_version</em>, <em>join_key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/release.html#with_effective_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.release.with_effective_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the effective version of Firefox in the wild given the date
and channel.</p>
<p>For example, if the date is 2017-11-14 and the channel is ‘Release’, then
the effective Firefox version is 57.0.0, since this is the Firefox version
that would be available for installation from official sources. This is
used to determine the version a profile was acquired on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataframe</strong> – A dataframe containing a date and channel col.</li>
<li><strong>effective_version</strong> – A table mapping dates to application versions.</li>
<li><strong>join_key</strong> – Column name generate version number on.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A with a calculated “start_version” column</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-mozetl.engagement.churn.schema">
<span id="mozetl-engagement-churn-schema-module"></span><h2>mozetl.engagement.churn.schema module<a class="headerlink" href="#module-mozetl.engagement.churn.schema" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozetl.engagement.churn.utils">
<span id="mozetl-engagement-churn-utils-module"></span><h2>mozetl.engagement.churn.utils module<a class="headerlink" href="#module-mozetl.engagement.churn.utils" title="Permalink to this headline">¶</a></h2>
<p>“Utility functions for Churn</p>
<dl class="function">
<dt id="mozetl.engagement.churn.utils.build_col_expr">
<code class="descclassname">mozetl.engagement.churn.utils.</code><code class="descname">build_col_expr</code><span class="sig-paren">(</span><em>mapping</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/utils.html#build_col_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.utils.build_col_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a dictionary into a list of column expressions.</p>
<p>This allows the building of fairly complex expressions by manipulating
dictionaries. These dictionaries can be reused across multiple expressions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapping</strong> – A dictionary mapping column name to column expression. A
value of None will use the key as the column expression.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list that can be used in <cite>df.select(…)</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.utils.format_date">
<code class="descclassname">mozetl.engagement.churn.utils.</code><code class="descname">format_date</code><span class="sig-paren">(</span><em>start_date</em>, <em>format</em>, <em>offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/utils.html#format_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.utils.format_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a date given an optional offset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_date</strong> – an Arrow object representing the start date</li>
<li><strong>format</strong> – the format string</li>
<li><strong>offset</strong> – an offset measured in days</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a formatted datestring</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.utils.format_spark_path">
<code class="descclassname">mozetl.engagement.churn.utils.</code><code class="descname">format_spark_path</code><span class="sig-paren">(</span><em>bucket</em>, <em>prefix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/utils.html#format_spark_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.utils.format_spark_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.utils.preprocess_col_expr">
<code class="descclassname">mozetl.engagement.churn.utils.</code><code class="descname">preprocess_col_expr</code><span class="sig-paren">(</span><em>mapping</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/utils.html#preprocess_col_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.utils.preprocess_col_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-process the expression dictionary.</p>
<p>This replaces values with their appropriate column expressions. For
convenience, the expression dictionary accepts values of None which maps
the value to the key. In addition, it will accept string expressions that
are acceptable in <cite>DataFrame.selectExpr(…)</cite>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">preprocess_col_expr</span><span class="p">({</span>
<span class="gp">... </span>   <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>   <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;count(*)&quot;</span>
<span class="go">...})</span>
<span class="go">{&#39;foo&#39;: Column&lt;foo&gt;, &#39;bar&#39;: Column&lt;count(1)&gt;}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapping</strong> – A dictionary mapping a string column to an expression</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary where all values are valid spark column
expressions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mozetl.engagement.churn.utils.to_datetime">
<code class="descclassname">mozetl.engagement.churn.utils.</code><code class="descname">to_datetime</code><span class="sig-paren">(</span><em>col</em>, <em>format='yyyyMMdd'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mozetl/engagement/churn/utils.html#to_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mozetl.engagement.churn.utils.to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a StringType column into a DateType column.</p>
<p>Default format is <cite>yyyyMMdd</cite>. Formats are specified by <a class="reference external" href="http://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html">SimpleDateFormats</a>.
See <cite>pyspark.sql.functions.to_timestamp</cite> in the PySpark 2.2 docs for an
up to date implementation of this function.</p>
</dd></dl>

</div>
<div class="section" id="module-mozetl.engagement.churn">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozetl.engagement.churn" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">python_mozetl</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Firefox Telemetry Python ETL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#benefits">Benefits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#tests">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#scheduling">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#early-stage-etl-jobs">Early Stage ETL Jobs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Ryan Harter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/source/mozetl.engagement.churn.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>